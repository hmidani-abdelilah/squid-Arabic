# squid-Arabic
squid ๐ documentation Arabic 
# ุงูุฏููู ุงูุดุงูู ูุจุฑูุงูุฌ Squid ูู ุงูุฃูู ุฅูู ุงููุงุก

## ุฌุฏูู ุงููุญุชููุงุช

1. [ููุฏูุฉ ุนู Squid](#1-ููุฏูุฉ-ุนู-squid)
   - [ูุง ูู Squidุ](#ูุง-ูู-squid)
   - [ููู ูุนูู Squidุ](#ููู-ูุนูู-squid)
   - [ุชุงุฑูุฎ Squid](#ุชุงุฑูุฎ-squid)

2. [ุงูุฅููุงููุงุช ุงูุฑุฆูุณูุฉ ูุจุฑูุงูุฌ Squid](#2-ุงูุฅููุงููุงุช-ุงูุฑุฆูุณูุฉ-ูุจุฑูุงูุฌ-squid)
   - [ุงูุชุฎุฒูู ุงููุคูุช (Caching)](#ุงูุชุฎุฒูู-ุงููุคูุช-caching)
   - [ุงูุชูุฌูู (Forwarding)](#ุงูุชูุฌูู-forwarding)
   - [ุงูุชุญูู ูู ุงููุตูู (Access Control)](#ุงูุชุญูู-ูู-ุงููุตูู-access-control)
   - [ุงููุตุงุฏูุฉ (Authentication)](#ุงููุตุงุฏูุฉ-authentication)
   - [ุชุตููุฉ ุงููุญุชูู (Content Filtering)](#ุชุตููุฉ-ุงููุญุชูู-content-filtering)
   - [ุชุญุณูู ุญุฑูุฉ ุงููุฑูุฑ (Traffic Optimization)](#ุชุญุณูู-ุญุฑูุฉ-ุงููุฑูุฑ-traffic-optimization)
   - [ุชุณุฑูุน ุงูุฎุงุฏู (Server Acceleration)](#ุชุณุฑูุน-ุงูุฎุงุฏู-server-acceleration)
   - [ุฏุนู ุจุฑูุชููููุงุช ูุชุนุฏุฏุฉ](#ุฏุนู-ุจุฑูุชููููุงุช-ูุชุนุฏุฏุฉ)
   - [ุชุณูุณู ุงูุชุฎุฒูู ุงููุคูุช (Cache Hierarchies)](#ุชุณูุณู-ุงูุชุฎุฒูู-ุงููุคูุช-cache-hierarchies)
   - [ุงููุฑุงูุจุฉ ูุงูุฅุฏุงุฑุฉ (Monitoring and Management)](#ุงููุฑุงูุจุฉ-ูุงูุฅุฏุงุฑุฉ-monitoring-and-management)

3. [ุชูุตูุจ Squid ุนูู ูุธุงู Debian](#3-ุชูุตูุจ-squid-ุนูู-ูุธุงู-debian)
   - [ุชุญุฏูุซ ุงููุธุงู](#ุชุญุฏูุซ-ุงููุธุงู)
   - [ุชูุตูุจ Squid](#ุชูุตูุจ-squid)
   - [ุงูุชุญูู ูู ุฎุฏูุฉ Squid](#ุงูุชุญูู-ูู-ุฎุฏูุฉ-squid)

4. [ุงูุฅุนุฏุงุฏ ุงูุฃุณุงุณู ูู Squid](#4-ุงูุฅุนุฏุงุฏ-ุงูุฃุณุงุณู-ูู-squid)
   - [ููู ุงูุฅุนุฏุงุฏ ุงูุฑุฆูุณู](#ููู-ุงูุฅุนุฏุงุฏ-ุงูุฑุฆูุณู)
   - [ุชุบููุฑ ูููุฐ ุงูุงุณุชูุงุน](#ุชุบููุฑ-ูููุฐ-ุงูุงุณุชูุงุน)
   - [ุฅุนุฏุงุฏ ุงูุชุญูู ูู ุงููุตูู ุงูุฃุณุงุณู](#ุฅุนุฏุงุฏ-ุงูุชุญูู-ูู-ุงููุตูู-ุงูุฃุณุงุณู)
   - [ุชุทุจูู ุงูุชุบููุฑุงุช](#ุชุทุจูู-ุงูุชุบููุฑุงุช)

5. [ุฅุนุฏุงุฏ ุงููุตุงุฏูุฉ ูู Squid](#5-ุฅุนุฏุงุฏ-ุงููุตุงุฏูุฉ-ูู-squid)
   - [ุชูุตูุจ ุฃุฏูุงุช ุงููุตุงุฏูุฉ](#ุชูุตูุจ-ุฃุฏูุงุช-ุงููุตุงุฏูุฉ)
   - [ุฅูุดุงุก ููู ูููุงุช ุงููุฑูุฑ](#ุฅูุดุงุก-ููู-ูููุงุช-ุงููุฑูุฑ)
   - [ุชูููู Squid ูููุตุงุฏูุฉ](#ุชูููู-squid-ูููุตุงุฏูุฉ)
   - [ุชุทุจูู ุฅุนุฏุงุฏุงุช ุงููุตุงุฏูุฉ](#ุชุทุจูู-ุฅุนุฏุงุฏุงุช-ุงููุตุงุฏูุฉ)

6. [ุฅุนุฏุงุฏ ุฌุฏุงุฑ ุงูุญูุงูุฉ](#6-ุฅุนุฏุงุฏ-ุฌุฏุงุฑ-ุงูุญูุงูุฉ)
   - [ูุชุญ ูููุฐ Squid ูู ุฌุฏุงุฑ ุงูุญูุงูุฉ](#ูุชุญ-ูููุฐ-squid-ูู-ุฌุฏุงุฑ-ุงูุญูุงูุฉ)
   - [ุฅุนุฏุงุฏุงุช nftables](#ุฅุนุฏุงุฏุงุช-nftables)

7. [ุชูุนูู ุงูููุฒุงุช ุงููุชูุฏูุฉ ูู Squid](#7-ุชูุนูู-ุงูููุฒุงุช-ุงููุชูุฏูุฉ-ูู-squid)
   - [ุชูุนูู ุงูุชุฎุฒูู ุงููุคูุช (Caching)](#ุชูุนูู-ุงูุชุฎุฒูู-ุงููุคูุช-caching)
   - [ุชูุนูู ุงูุชุตููุฉ ุญุณุจ URL](#ุชูุนูู-ุงูุชุตููุฉ-ุญุณุจ-url)
   - [ุชูุนูู ุชุณุฌูู ุงููุตูู (Access Logging)](#ุชูุนูู-ุชุณุฌูู-ุงููุตูู-access-logging)
   - [ุชูุนูู HTTPS Interception (SSL Bumping)](#ุชูุนูู-https-interception-ssl-bumping)

8. [ุชุญุฏูุฏ ุงููุทุงู ุงูุชุฑุฏุฏู (Bandwidth Limitation)](#8-ุชุญุฏูุฏ-ุงููุทุงู-ุงูุชุฑุฏุฏู-bandwidth-limitation)
   - [ููู ูุฆุงุช Delay Pools](#ููู-ูุฆุงุช-delay-pools)
   - [ุชูููู Delay Pools ุงูุฃุณุงุณู](#ุชูููู-delay-pools-ุงูุฃุณุงุณู)
   - [ุชุญุฏูุฏ ุงูุณุฑุนุฉ ููู ูุณุชุฎุฏู ุนูู ุญุฏุฉ](#ุชุญุฏูุฏ-ุงูุณุฑุนุฉ-ููู-ูุณุชุฎุฏู-ุนูู-ุญุฏุฉ)
   - [ุชุฎุตูุต ุณุฑุนุงุช ูุฎุชููุฉ ููุฌููุนุงุช ูุฎุชููุฉ](#ุชุฎุตูุต-ุณุฑุนุงุช-ูุฎุชููุฉ-ููุฌููุนุงุช-ูุฎุชููุฉ)
   - [ุชุญููู ูุญุฏุงุช ุงูุณุฑุนุฉ](#ุชุญููู-ูุญุฏุงุช-ุงูุณุฑุนุฉ)

9. [ุชุญุฏูุฏ ููุช ุงูุงุณุชุฎุฏุงู (Time Restriction)](#9-ุชุญุฏูุฏ-ููุช-ุงูุงุณุชุฎุฏุงู-time-restriction)
   - [ุงุณุชุฎุฏุงู ACL ูู ููุน "time"](#ุงุณุชุฎุฏุงู-acl-ูู-ููุน-time)
   - [ุฃูุซูุฉ ุนูู ุชุญุฏูุฏ ููุช ุงูุงุณุชุฎุฏุงู](#ุฃูุซูุฉ-ุนูู-ุชุญุฏูุฏ-ููุช-ุงูุงุณุชุฎุฏุงู)
   - [ุชุทุจูู ุชุญุฏูุฏ ุงูููุช ูุน ููุฒุงุช ุฃุฎุฑู](#ุชุทุจูู-ุชุญุฏูุฏ-ุงูููุช-ูุน-ููุฒุงุช-ุฃุฎุฑู)

10. [ุชูุฒูุน ุงูุญูู (Load Balancing)](#10-ุชูุฒูุน-ุงูุญูู-load-balancing)
    - [ุฃููุงุน ุชูุฒูุน ุงูุญูู ูู Squid](#ุฃููุงุน-ุชูุฒูุน-ุงูุญูู-ูู-squid)
    - [ุฅุนุฏุงุฏ ุชูุฒูุน ุงูุญูู ุจุงุณุชุฎุฏุงู cache_peer](#ุฅุนุฏุงุฏ-ุชูุฒูุน-ุงูุญูู-ุจุงุณุชุฎุฏุงู-cache_peer)
    - [ุฃูุซูุฉ ุนูู ุชูุฒูุน ุงูุญูู](#ุฃูุซูุฉ-ุนูู-ุชูุฒูุน-ุงูุญูู)
    - [ุชูุฒูุน ุงูุญูู ูุน ุชุญูู ุงูุฃุนุทุงู](#ุชูุฒูุน-ุงูุญูู-ูุน-ุชุญูู-ุงูุฃุนุทุงู)
    - [ุชูุฒูุน ุงูุญูู ูุน ุชุญุฏูุฏ ุงููุฒู](#ุชูุฒูุน-ุงูุญูู-ูุน-ุชุญุฏูุฏ-ุงููุฒู)

11. [ุฅุนุฏุงุฏ Squid ูุจุฑููุณู ุนูุณู (Reverse Proxy)](#11-ุฅุนุฏุงุฏ-squid-ูุจุฑููุณู-ุนูุณู-reverse-proxy)
    - [ุชูููู ุงูุจุฑููุณู ุงูุนูุณู ุงูุฃุณุงุณู](#ุชูููู-ุงูุจุฑููุณู-ุงูุนูุณู-ุงูุฃุณุงุณู)
    - [ุชูููู ุงูุจุฑููุณู ุงูุนูุณู ุงููุชูุฏู](#ุชูููู-ุงูุจุฑููุณู-ุงูุนูุณู-ุงููุชูุฏู)

12. [ุชูููู ูุชุตูุญุงุช ุงูููุจ ูุงุณุชุฎุฏุงู Squid](#12-ุชูููู-ูุชุตูุญุงุช-ุงูููุจ-ูุงุณุชุฎุฏุงู-squid)
    - [Firefox](#firefox)
    - [Chrome](#chrome)
    - [ูุชุตูุญุงุช ุฃุฎุฑู](#ูุชุตูุญุงุช-ุฃุฎุฑู)

13. [ุฅุฏุงุฑุฉ ููุฑุงูุจุฉ Squid](#13-ุฅุฏุงุฑุฉ-ููุฑุงูุจุฉ-squid)
    - [ูุฑุงูุจุฉ ุณุฌูุงุช Squid](#ูุฑุงูุจุฉ-ุณุฌูุงุช-squid)
    - [ุชุญููู ุณุฌูุงุช Squid](#ุชุญููู-ุณุฌูุงุช-squid)
    - [ุชูุธูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช](#ุชูุธูู-ุฐุงูุฑุฉ-ุงูุชุฎุฒูู-ุงููุคูุช)
    - [ุงุฎุชุจุงุฑ ุชูููู Squid](#ุงุฎุชุจุงุฑ-ุชูููู-squid)
    - [ุฅุนุงุฏุฉ ุชุญููู ุงูุชูููู ุฏูู ุฅุนุงุฏุฉ ุงูุชุดุบูู](#ุฅุนุงุฏุฉ-ุชุญููู-ุงูุชูููู-ุฏูู-ุฅุนุงุฏุฉ-ุงูุชุดุบูู)
    - [ูุฑุงูุจุฉ ุญุงูุฉ ุงูุฎูุงุฏู](#ูุฑุงูุจุฉ-ุญุงูุฉ-ุงูุฎูุงุฏู)

14. [ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง](#14-ุงุณุชูุดุงู-ุงูุฃุฎุทุงุก-ูุฅุตูุงุญูุง)
    - [ูุดุงูู ุงูุงุชุตุงู](#ูุดุงูู-ุงูุงุชุตุงู)
    - [ูุดุงูู ุงููุตุงุฏูุฉ](#ูุดุงูู-ุงููุตุงุฏูุฉ)
    - [ูุดุงูู ุงูุฃุฏุงุก](#ูุดุงูู-ุงูุฃุฏุงุก)
    - [ูุดุงูู ุชุญุฏูุฏ ููุช ุงูุงุณุชุฎุฏุงู](#ูุดุงูู-ุชุญุฏูุฏ-ููุช-ุงูุงุณุชุฎุฏุงู)
    - [ูุดุงูู ุชูุฒูุน ุงูุญูู](#ูุดุงูู-ุชูุฒูุน-ุงูุญูู)

15. [ุงููุตุทูุญุงุช ุงูุชูููุฉ ูู ุจุฑูุงูุฌ Squid](#15-ุงููุตุทูุญุงุช-ุงูุชูููุฉ-ูู-ุจุฑูุงูุฌ-squid)
    - [ุงููุตุทูุญุงุช ุงูุฃุณุงุณูุฉ](#ุงููุตุทูุญุงุช-ุงูุฃุณุงุณูุฉ)
    - [ุจุฑูุชููููุงุช ุงูุดุจูุฉ](#ุจุฑูุชููููุงุช-ุงูุดุจูุฉ)
    - [ุจุฑูุชููููุงุช ุงูุชุฎุฒูู ุงููุคูุช](#ุจุฑูุชููููุงุช-ุงูุชุฎุฒูู-ุงููุคูุช)
    - [ููููุงุช ูููุฒุงุช Squid](#ููููุงุช-ูููุฒุงุช-squid)
    - [ุชูููุงุช ุงูุชุญุณูู](#ุชูููุงุช-ุงูุชุญุณูู)
    - [ูุตุทูุญุงุช ุชูููุฉ ุฅุถุงููุฉ](#ูุตุทูุญุงุช-ุชูููุฉ-ุฅุถุงููุฉ)

16. [ุงุณุชุฎุฏุงูุงุช Squid ูู ุจูุฆุงุช ูุฎุชููุฉ](#16-ุงุณุชุฎุฏุงูุงุช-squid-ูู-ุจูุฆุงุช-ูุฎุชููุฉ)
    - [ูุฒูุฏู ุฎุฏูุฉ ุงูุฅูุชุฑูุช (ISPs)](#ูุฒูุฏู-ุฎุฏูุฉ-ุงูุฅูุชุฑูุช-isps)
    - [ุงููุคุณุณุงุช ุงูุชุนููููุฉ](#ุงููุคุณุณุงุช-ุงูุชุนููููุฉ)
    - [ุงูุดุฑูุงุช ูุงููุคุณุณุงุช](#ุงูุดุฑูุงุช-ูุงููุคุณุณุงุช)
    - [ููุงูุน ุงูููุจ ุนุงููุฉ ุงูุญุฑูุฉ](#ููุงูุน-ุงูููุจ-ุนุงููุฉ-ุงูุญุฑูุฉ)

17. [ูุฒุงูุง ุงุณุชุฎุฏุงู Squid](#17-ูุฒุงูุง-ุงุณุชุฎุฏุงู-squid)
    - [ุชุญุณูู ุงูุฃุฏุงุก](#ุชุญุณูู-ุงูุฃุฏุงุก)
    - [ุชูููุฑ ุงููุทุงู ุงูุชุฑุฏุฏู](#ุชูููุฑ-ุงููุทุงู-ุงูุชุฑุฏุฏู)
    - [ุชุนุฒูุฒ ุงูุฃูุงู](#ุชุนุฒูุฒ-ุงูุฃูุงู)
    - [ุงููุฑููุฉ ูุงููุงุจููุฉ ููุชุฎุตูุต](#ุงููุฑููุฉ-ูุงููุงุจููุฉ-ููุชุฎุตูุต)

18. [ุงูุฎูุงุตุฉ](#18-ุงูุฎูุงุตุฉ)

---

## 1. ููุฏูุฉ ุนู Squid

### ูุง ูู Squidุ

Squid ูู ุฎุงุฏู ูุณูุท (Proxy Server) ููุชูุญ ุงููุตุฏุฑ ููุชุฎุฒูู ุงููุคูุช ูุฅุนุงุฏุฉ ุชูุฌูู ุทูุจุงุช ุงูููุจ. ูุนูู ููุณูุท ุจูู ุงูุนููุงุก (ุงููุณุชุฎุฏููู) ูุงูุฎูุงุฏู ุนูู ุดุจูุฉ ุงูุฅูุชุฑูุชุ ููุง ูุชูุญ ููุนููุงุก ุงููุตูู ุฅูู ูุฎุชูู ููุงุฑุฏ ุงูุฅูุชุฑูุช ูุซู ููุงูุน ุงูููุจ ูุงููููุงุช ูุงููุญุชููุงุช ุงูุฃุฎุฑู ูู ุงูุฎูุงุฏู ุจุทุฑููุฉ ุฃูุซุฑ ููุงุกุฉ ูุฃูุงููุง.

Squid ูุนุชุจุฑ ุฃุญุฏ ุฃูุซุฑ ุฎูุงุฏู ุงููููู ุงุณุชุฎุฏุงููุง ูู ุงูุนุงููุ ููุณุชุฎุฏู ูู ูุจู ูุฆุงุช ูู ูุฒูุฏู ุฎุฏูุฉ ุงูุฅูุชุฑูุช ุญูู ุงูุนุงูู ูุชูููุฑ ุฃูุถู ูุตูู ูููู ููููุจ ููุณุชุฎุฏููููุ ููุฐูู ูู ูุจู ุขูุงู ุงูููุงูุน ูุชุณุฑูุน ุชุณููู ุงููุญุชูู ุจุดูู ูุจูุฑ.

### ููู ูุนูู Squidุ

ุนูุฏูุง ูุฑุณู ุงููุณุชุฎุฏู ุทูุจูุง ูููุตูู ุฅูู ูุญุชูู ูุนูู ุนูู ุงูุฅูุชุฑูุชุ ูููู Squid ุจุงุนุชุฑุงุถ ูุฐุง ุงูุทูุจ ูุงูุชุญูู ููุง ุฅุฐุง ูุงู ูุฏูู ูุณุฎุฉ ูุฎุฒูุฉ ูุคูุชูุง ูู ูุฐุง ุงููุญุชูู. ุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐููุ ูุฅูู ููุฏู ุงููุญุชูู ูุจุงุดุฑุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุชุ ููุง ูุคุฏู ุฅูู ุชูููู ููุช ุงูุงุณุชุฌุงุจุฉ ูุงุณุชุฎุฏุงู ุงููุทุงู ุงูุชุฑุฏุฏู. ุฅุฐุง ูู ููู ุงููุญุชูู ูุชููุฑูุง ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุชุ ูุฅู Squid ูููู ุจุฅุนุงุฏุฉ ุชูุฌูู ุงูุทูุจ ุฅูู ุงูุฎุงุฏู ุงูุฃุตููุ ููุฌูุจ ุงููุญุชููุ ููุฎุฒูู ูุคูุชูุง ููุงุณุชุฎุฏุงู ุงููุณุชูุจูู ูุจู ุชุณูููู ุฅูู ุงููุณุชุฎุฏู.

### ุชุงุฑูุฎ Squid

ุชู ุชุทููุฑ Squid ูู ุงูุฃุตู ูุฌุฒุก ูู ูุดุฑูุน Harvest Project ูู ููุชุตู ุงูุชุณุนูููุงุช. ุจุฏุฃ ููุดุฑูุน ุจุญุซู ูู ุฌุงูุนุฉ ููููุฑุงุฏู ุจููุฏุฑุ ูุชุทูุฑ ููุตุจุญ ุฃุญุฏ ุฃูุซุฑ ุฎูุงุฏู ุงููููู ุงุณุชุฎุฏุงููุง ูู ุงูุนุงูู. ุงูุฅุตุฏุงุฑ ุงูุฃูู ูู Squid ุชู ุฅุทูุงูู ูู ุนุงู 1996ุ ูููุฐ ุฐูู ุงูุญููุ ุงุณุชูุฑ ูู ุงูุชุทูุฑ ูุงูุชุญุณูู ูุน ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ ูุชุญุณูู ุงูุฃุฏุงุก ูุงูุฃูุงู.

## 2. ุงูุฅููุงููุงุช ุงูุฑุฆูุณูุฉ ูุจุฑูุงูุฌ Squid

### ุงูุชุฎุฒูู ุงููุคูุช (Caching)

ูููู Squid ุจุชุฎุฒูู ูุณุฎ ูู ูุญุชูู ุงูููุจ ุงููุทููุจ ุจุดูู ูุชูุฑุฑ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูุฎุงุตุฉ ุจู. ุนูุฏูุง ูุทูุจ ูุณุชุฎุฏู ููุฑุฏุงู ูุนููุงูุ ูุชุญูู Squid ููุง ุฅุฐุง ูุงู ูุฏูู ุจุงููุนู ูุณุฎุฉ ูู ุงููุญุชูู ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช. ุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐููุ ูุฅู Squid ููุฏู ุงููุญุชูู ูุจุงุดุฑุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุชุ ููุง ูุคุฏู ุฅูู:

- ุชูููู ููุช ุงูุงุณุชุฌุงุจุฉ ููุทูุจุงุช
- ุชูููู ุงุณุชุฎุฏุงู ุงููุทุงู ุงูุชุฑุฏุฏู ููุดุจูุฉ
- ุชุญุณูู ุงูุฃุฏุงุก ุงูุนุงู ููุดุจูุฉ
- ุชูููุฑ ุงูููุงุฑุฏ ุนูู ุงูุฎูุงุฏู ุงูุฃุตููุฉ

### ุงูุชูุฌูู (Forwarding)

ูููู ูู Squid ุฅุนุงุฏุฉ ุชูุฌูู ุทูุจุงุช ุงูุนููุงุก ุฅูู ุฎูุงุฏู ุงูููุจ ููุงุจุฉ ุนููู. ููู ูุณุชุฑุฌุน ุงููุญุชูู ุงููุทููุจ ูู ุงูุฎุงุฏู ููุณููู ูุฑุฉ ุฃุฎุฑู ุฅูู ุงูุนููู. ูุฐุง ููููู ุฎุงุฏู ุงููููู ูู:

- ุชุนุฒูุฒ ุงูุฃูุงู
- ุชูููุฑ ุฎุฏูุงุช ุฅุถุงููุฉ ูุซู ุงูุชุญูู ูู ุงููุตูู
- ุชุตููุฉ ุงููุญุชูู
- ุชุญุณูู ุญุฑูุฉ ุงููุฑูุฑ ุนูู ุงูุดุจูุฉ

### ุงูุชุญูู ูู ุงููุตูู (Access Control)

ูููุฑ Squid ุขููุงุช ูุงุณุนุฉ ููุชุญูู ูู ุงููุตููุ ููุง ูุณูุญ ูููุณุคูููู ุจุชุญุฏูุฏ ุณูุงุณุงุช ูุชูููุฏ ุฃู ุงูุณูุงุญ ุจุนููุงุก ูุญุฏุฏูู ุฃู ุนูุงููู IP ุฃู ุฃููุงุน ูุญุชูู ูุนููุฉ. ูุฐุง ููููู ุงููุคุณุณุงุช ูู:

- ูุฑุถ ุณูุงุณุงุช ุงุณุชุฎุฏุงู ุงูุฅูุชุฑูุช
- ุญุธุฑ ุงูููุงูุน ุงูุถุงุฑุฉ
- ููุน ุงููุตูู ุบูุฑ ุงููุตุฑุญ ุจู
- ุชุตููุฉ ุงููุญุชูู ุจูุงุกู ุนูู ููุงุนุฏ ูุญุฏุฏุฉ ูุณุจููุง

### ุงููุตุงุฏูุฉ (Authentication)

ูุฏุนู Squid ุทุฑู ูุตุงุฏูุฉ ูุชููุนุฉุ ุจูุง ูู ุฐูู ุงุณู ุงููุณุชุฎุฏู/ูููุฉ ุงููุฑูุฑุ NTLMุ LDAPุ ูุบูุฑูุง. ูุฐุง ูุณูุญ ูููุณุคูููู ุจู:

- ุชูููุฐ ุถูุงุจุท ุงููุตูู ุงููุณุชูุฏุฉ ุฅูู ุงููุณุชุฎุฏู
- ุชุชุจุน ุฃูุดุทุฉ ุงููุณุชุฎุฏู ุงููุฑุฏูุฉ
- ุชูููุฑ ุฎุฏูุงุช ูุฎุตุตุฉ
- ูุฑุถ ูุณุชููุงุช ูุตูู ูุฎุชููุฉ ุจูุงุกู ุนูู ุงูุชูุงุฒุงุช ุงููุณุชุฎุฏู

### ุชุตููุฉ ุงููุญุชูู (Content Filtering)

ูููู ุชูููู Squid ูุชุตููุฉ ูุญุชูู ุงูููุจ ุจูุงุกู ุนูู ููุงุนุฏ ูุญุฏุฏุฉ ูุณุจููุง ุฃู ุณูุงุณุงุช. ูุฐู ุงูููุฒุฉ ุชุณูุญ ูููุคุณุณุงุช ุจู:

- ุญุธุฑ ุฃู ุชูููุฏ ุงููุตูู ุฅูู ููุงูุน ููุจ ูุนููุฉ
- ุงูุชุญูู ูู ููุน ุงููุญุชูู ุงูุฐู ูููู ุชูุฒููู
- ุญูุงูุฉ ุงููุณุชุฎุฏููู ูู ุงููุญุชูู ุงูุถุงุฑ ุฃู ุบูุฑ ุงูููุงุณุจ

### ุชุญุณูู ุญุฑูุฉ ุงููุฑูุฑ (Traffic Optimization)

ูุชุถูู Squid ููุฒุงุช ูุซู ุชุนุฏูู ุงูุทูุจ ูุงูุงุณุชุฌุงุจุฉุ ูุชุญุณูู ุงูุจุฑูุชููููุ ูุงูุถุบุท. ูุฐู ุงููุฏุฑุงุช ุชุณุงุนุฏ ุนูู:

- ุชุญุณูู ุญุฑูุฉ ูุฑูุฑ ุงูุดุจูุฉ
- ุชูููู ุฒูู ุงูุงุณุชุฌุงุจุฉ
- ุชุญุณูู ุฃุฏุงุก ุงูุดุจูุฉ ุจุดูู ุนุงู

### ุชุณุฑูุน ุงูุฎุงุฏู (Server Acceleration)

ูููู ุงุณุชุฎุฏุงู Squid ูุชุญุณูู ุฃุฏุงุก ุฎูุงุฏู ุงูููุจ ูู ุฎูุงู:

- ุชูููู ุงูุญูู ุนูู ุงูุฎุงุฏู
- ุชุญุณูู ุณุฑุนุงุช ุงูุชุณููู ููุนููุงุก
- ูุถุงุนูุฉ ูุฏุฑุฉ ุฎูุงุฏู ุงูููุจ (ููููุง ููุนูููุงุช ูุดุฑ Wikimediaุ ูููู ุฃู ุชุตู ูุณุจุฉ ุงูุฅุตุงุจุฉ ุฅูู ุญูุงูู 75ูชุ ููุง ูุคุฏู ูุนูููุง ุฅูู ูุถุงุนูุฉ ูุฏุฑุฉ ุฎูุงุฏู Apache ุฃุฑุจุน ูุฑุงุช)
- ูุนุงููุฉ ุฎุงุตุฉ ุนูุฏ ุญุฏูุซ ุชุฏูู ูุจูุฑ ููุญุฑูุฉ ููุฌู ุฅูู ุตูุญุฉ ูุนููุฉ

### ุฏุนู ุจุฑูุชููููุงุช ูุชุนุฏุฏุฉ

ูุฏุนู Squid ูุฌููุนุฉ ูุงุณุนุฉ ูู ุงูุจุฑูุชููููุงุชุ ุจูุง ูู ุฐูู:

- HTTP (ุจุฑูุชูููู ููู ุงููุต ุงูุชุดุนุจู)
- HTTPS (HTTP ุขูู)
- FTP (ุจุฑูุชูููู ููู ุงููููุงุช)
- ูุจุฑูุชููููุงุช ุดุจูุฉ ุดุงุฆุนุฉ ุฃุฎุฑู

### ุชุณูุณู ุงูุชุฎุฒูู ุงููุคูุช (Cache Hierarchies)

ูููู ุงุณุชุฎุฏุงู Squid ูุจูุงุก ุชุณูุณูุงุช ูุฑููุฉ ูุฎูุงุฏู ุงูุชุฎุฒูู ุงููุคูุช ุงูุชู ุชุญุณู ุฅูุชุงุฌูุฉ ุงูุดุจูุฉ. ูููู ูู Squid ุชูุฌูู ุทูุจุงุช ุงููุญุชูู ุฅูู ุงูุฎูุงุฏู ุจูุฌููุนุฉ ูุชููุนุฉ ูู ุงูุทุฑู ูุจูุงุก ุชุณูุณูุงุช ูุฑููุฉ ูุฎูุงุฏู ุงูุชุฎุฒูู ุงููุคูุช. ูุฏุนู Squid ุจุฑูุชููููุงุช ูุซู:

- ICP (ุจุฑูุชูููู ุงูุชุฎุฒูู ุงููุคูุช ููุฅูุชุฑูุช)
- HTCP (ุจุฑูุชูููู ุชุฎุฒูู ุงููุต ุงูุชุดุนุจู ุงููุคูุช)
- CARP (ุจุฑูุชูููู ุชูุฌูู ูุตูููุฉ ุงูุชุฎุฒูู ุงููุคูุช)
- WCCP (ุจุฑูุชูููู ุชูุณูู ุงูุชุฎุฒูู ุงููุคูุช ููููุจ)

### ุงููุฑุงูุจุฉ ูุงูุฅุฏุงุฑุฉ (Monitoring and Management)

ูููุฑ Squid ุฃุฏูุงุช ูููุฑุงูุจุฉ ูุงูุฅุฏุงุฑุฉุ ุจูุง ูู ุฐูู:

- ูุฑุงูุจุฉ ุงููุนููุงุช ุงูุญุฑุฌุฉ ุนุจุฑ SNMP (ุจุฑูุชูููู ุฅุฏุงุฑุฉ ุงูุดุจูุฉ ุงูุจุณูุท)
- ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุฅุฏุงุฑุฉ
- ุฃุฏูุงุช ุงูุชุดุฎูุต ูุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง
- ุชูุงุฑูุฑ ุงูุงุณุชุฎุฏุงู ูุงูุฅุญุตุงุกุงุช

## 3. ุชูุตูุจ Squid ุนูู ูุธุงู Debian

### ุชุญุฏูุซ ุงููุธุงู

ูุจู ุชูุตูุจ ุฃู ุจุฑูุงูุฌ ุฌุฏูุฏุ ูู ุงูุฃูุถู ุชุญุฏูุซ ูุงุฆูุฉ ุงูุญุฒู ูู ุงููุธุงู:

```bash
sudo apt update
sudo apt upgrade -y
```

### ุชูุตูุจ Squid

ูููู ุชูุตูุจ Squid ุจุงุณุชุฎุฏุงู ูุฏูุฑ ุงูุญุฒู apt:

```bash
sudo apt install squid -y
```

ุจุนุฏ ุงูุชูุงู ุงูุชูุตูุจุ ุณูุจุฏุฃ Squid ุชููุงุฆูุงู. ููููู ุงูุชุญูู ูู ุญุงูุฉ ุฎุฏูุฉ Squid ุจุงุณุชุฎุฏุงู:

```bash
sudo systemctl status squid
```

ูุฌุจ ุฃู ุชุธูุฑ ุงููุชูุฌุฉ ุฃู ุงูุฎุฏูุฉ ูุดุทุฉ ูุชุนูู (active (running)).

### ุงูุชุญูู ูู ุฎุฏูุฉ Squid

ููููู ุงุณุชุฎุฏุงู ุงูุฃูุงูุฑ ุงูุชุงููุฉ ููุชุญูู ูู ุฎุฏูุฉ Squid:

- ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุฏูุฉ:
  ```bash
  sudo systemctl restart squid
  ```

- ุฅููุงู ุงูุฎุฏูุฉ:
  ```bash
  sudo systemctl stop squid
  ```

- ุชุดุบูู ุงูุฎุฏูุฉ:
  ```bash
  sudo systemctl start squid
  ```

- ุชูุนูู ุงูุฎุฏูุฉ ูุชุนูู ุชููุงุฆูุงู ุนูุฏ ุฅููุงุน ุงููุธุงู:
  ```bash
  sudo systemctl enable squid
  ```

## 4. ุงูุฅุนุฏุงุฏ ุงูุฃุณุงุณู ูู Squid

### ููู ุงูุฅุนุฏุงุฏ ุงูุฑุฆูุณู

ููู ุงูุฅุนุฏุงุฏ ุงูุฑุฆูุณู ูู Squid ููุฌูุฏ ูู `/etc/squid/squid.conf`. ูุจู ุฅุฌุฑุงุก ุฃู ุชุบููุฑุงุชุ ูู ุงููุณุชุญุณู ุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ููู ุงูุฅุนุฏุงุฏ ุงูุฃุตูู:

```bash
sudo cp /etc/squid/squid.conf /etc/squid/squid.conf.original
```

ููููู ูุชุญ ููู ุงูุฅุนุฏุงุฏ ููุชุนุฏูู ุจุงุณุชุฎุฏุงู ูุญุฑุฑ ุงููุตูุต ุงูููุถู ูุฏูู:

```bash
sudo nano /etc/squid/squid.conf
```

### ุชุบููุฑ ูููุฐ ุงูุงุณุชูุงุน

ุงูุชุฑุงุถูุงูุ ูุณุชูุน Squid ุนูู ุงููููุฐ 3128. ููููู ุชุบููุฑ ุฐูู ุนู ุทุฑูู ุชุนุฏูู ุงูุณุทุฑ ุงูุฐู ูุญุชูู ุนูู `http_port`:

```
# ุชุบููุฑ ุงููููุฐ ุงูุงูุชุฑุงุถู (3128) ุฅูู ุงููููุฐ ุงููุทููุจุ ูุซูุงู 8080
http_port 8080
```

### ุฅุนุฏุงุฏ ุงูุชุญูู ูู ุงููุตูู ุงูุฃุณุงุณู

ุงูุชุฑุงุถูุงูุ ูุณูุญ Squid ููุท ุจุงูุงุชุตุงูุงุช ูู ุงูุฌูุงุฒ ุงููุญูู (localhost). ูุชูููู ุงูุงุชุตุงู ูู ุดุจูุชู ุงููุญููุฉุ ุฃุถู ููุงุนุฏ ACL (ููุงุฆู ุงูุชุญูู ุจุงููุตูู):

```
# ุชุนุฑูู ุดุจูุชู ุงููุญููุฉ (ุงุณุชุจุฏู ุจูุทุงู ุดุจูุชู ุงููุนูู)
acl localnet src 192.168.1.0/24

# ุงูุณูุงุญ ุจุงููุตูู ูู ุงูุดุจูุฉ ุงููุญููุฉ
http_access allow localnet
```

ุชุฃูุฏ ูู ุฃู ูุฐู ุงูููุงุนุฏ ููุฌูุฏุฉ ูุจู ุณุทุฑ `http_access deny all`.

### ุชุทุจูู ุงูุชุบููุฑุงุช

ุจุนุฏ ุฅุฌุฑุงุก ุงูุชุบููุฑุงุชุ ุงุญูุธ ุงูููู ูุงุฎุฑุฌ ูู ุงููุญุฑุฑ. ุซู ุฃุนุฏ ุชุดุบูู Squid ูุชุทุจูู ุงูุชุบููุฑุงุช:

```bash
sudo systemctl restart squid
```

## 5. ุฅุนุฏุงุฏ ุงููุตุงุฏูุฉ ูู Squid

### ุชูุตูุจ ุฃุฏูุงุช ุงููุตุงุฏูุฉ

ูุฅุนุฏุงุฏ ุงููุตุงุฏูุฉ ุจูููุฉ ุงููุฑูุฑุ ูู ุจุชูุตูุจ ุฃุฏูุงุช Apache:

```bash
sudo apt install apache2-utils -y
```

### ุฅูุดุงุก ููู ูููุงุช ุงููุฑูุฑ

ูู ุจุฅูุดุงุก ููู ูููุงุช ุงููุฑูุฑ ูุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ:

```bash
sudo touch /etc/squid/passwords
sudo htpasswd -c /etc/squid/passwords username
```

ุงุณุชุจุฏู `username` ุจุงุณู ุงููุณุชุฎุฏู ุงููุทููุจ. ุณูุทูุจ ููู ุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ.

ูุฅุถุงูุฉ ูุณุชุฎุฏููู ุฅุถุงูููู (ุจุฏูู ุงูุฎูุงุฑ -c):

```bash
sudo htpasswd /etc/squid/passwords username2
```

### ุชูููู Squid ูููุตุงุฏูุฉ

ุงูุชุญ ููู ุฅุนุฏุงุฏ Squid:

```bash
sudo nano /etc/squid/squid.conf
```

ุฃุถู ุงูุฃุณุทุฑ ุงูุชุงููุฉ ูุชูููู ุงููุตุงุฏูุฉ:

```
# ุฅุนุฏุงุฏ ุงููุตุงุฏูุฉ ุงูุฃุณุงุณูุฉ
auth_param basic program /usr/lib/squid/basic_ncsa_auth /etc/squid/passwords
auth_param basic realm proxy
acl authenticated proxy_auth REQUIRED

# ุงูุณูุงุญ ูููุณุชุฎุฏููู ุงููุตุงุฏู ุนูููู
http_access allow authenticated
```

ุชุฃูุฏ ูู ุฅุถุงูุฉ ูุฐู ุงูุฃุณุทุฑ ูุจู ุณุทุฑ `http_access deny all`.

### ุชุทุจูู ุฅุนุฏุงุฏุงุช ุงููุตุงุฏูุฉ

ุจุนุฏ ุฅุฌุฑุงุก ุงูุชุบููุฑุงุชุ ุฃุนุฏ ุชุดุบูู Squid:

```bash
sudo systemctl restart squid
```

## 6. ุฅุนุฏุงุฏ ุฌุฏุงุฑ ุงูุญูุงูุฉ

### ูุชุญ ูููุฐ Squid ูู ุฌุฏุงุฑ ุงูุญูุงูุฉ

ุฅุฐุง ููุช ุชุณุชุฎุฏู UFWุ ููููู ูุชุญ ูููุฐ Squid ุจุงุณุชุฎุฏุงู:

```bash
sudo ufw allow 'Squid'
```

ุฃู ููุชุญ ูููุฐ ูุญุฏุฏ:

```bash
sudo ufw allow 3128/tcp
```

### ุฅุนุฏุงุฏุงุช nftables

ุฅุฐุง ููุช ุชุณุชุฎุฏู nftables:

```bash
sudo nft add rule inet filter input tcp dport 3128 ct state new,established counter accept
```

## 7. ุชูุนูู ุงูููุฒุงุช ุงููุชูุฏูุฉ ูู Squid

### ุชูุนูู ุงูุชุฎุฒูู ุงููุคูุช (Caching)

ูุชุญุณูู ุฃุฏุงุก ุงูุชุฎุฒูู ุงููุคูุชุ ููููู ุชุนุฏูู ุฅุนุฏุงุฏุงุช `cache_dir`:

```
# ุชุญุฏูุฏ ุญุฌู ูููุงู ุงูุชุฎุฒูู ุงููุคูุช
# Format: cache_dir [type] [directory] [size in MB] [L1 dirs] [L2 dirs]
cache_dir ufs /var/spool/squid 10000 16 256
```

ูุฐุง ูุญุฏุฏ ูุณุงุญุฉ ุชุฎุฒูู ูุคูุช ุจุญุฌู 10 ุฌูุฌุงุจุงูุช.

ูุนูู ุงููุนููุงุช:
- **ufs**: ููุน ูุธุงู ุงููููุงุช ุงููุณุชุฎุฏู ููุชุฎุฒูู ุงููุคูุช
- **/var/spool/squid**: ุงููุณุงุฑ ุญูุซ ุณูุชู ุชุฎุฒูู ุงููููุงุช ุงููุคูุชุฉ
- **10000**: ุญุฌู ุงูุชุฎุฒูู ุงููุคูุช ุจุงูููุฌุงุจุงูุช (10 ุฌูุฌุงุจุงูุช)
- **16**: ุนุฏุฏ ุงูุฏูุงุฆู ุงููุฑุนูุฉ ูู ุงููุณุชูู ุงูุฃูู
- **256**: ุนุฏุฏ ุงูุฏูุงุฆู ุงููุฑุนูุฉ ูู ุงููุณุชูู ุงูุซุงูู ูู ูู ุฏููู ูู ุงููุณุชูู ุงูุฃูู

### ุชูุนูู ุงูุชุตููุฉ ุญุณุจ URL

ููููู ุชูุนูู ุชุตููุฉ URL ุนู ุทุฑูู ุฅูุดุงุก ููู ูุญุชูู ุนูู ูุงุฆูุฉ ุงูููุงูุน ุงููุญุธูุฑุฉ:

```bash
sudo nano /etc/squid/blocked_sites.acl
```

ุฃุถู ุงูููุงูุน ุงูุชู ุชุฑูุฏ ุญุธุฑูุงุ ูู ูููุน ูู ุณุทุฑ:

```
example.com
badsite.com
```

ุซู ุฃุถู ุงูุชุงูู ุฅูู ููู ุฅุนุฏุงุฏ Squid:

```
# ุชุตููุฉ ุงูููุงูุน ุงููุญุธูุฑุฉ
acl blocked_sites dstdomain "/etc/squid/blocked_sites.acl"
http_access deny blocked_sites
```

### ุชูุนูู ุชุณุฌูู ุงููุตูู (Access Logging)

ูุชูุนูู ุชุณุฌูู ุงููุตูู ุงูููุตู:

```
# ุฅุนุฏุงุฏ ุณุฌูุงุช ุงููุตูู
access_log /var/log/squid/access.log squid
```

### ุชูุนูู HTTPS Interception (SSL Bumping)

ูุชูุนูู ุงุนุชุฑุงุถ HTTPSุ ุฃููุงู ูู ุจุฅูุดุงุก ุดูุงุฏุฉ:

```bash
sudo mkdir -p /etc/squid/ssl_cert
sudo openssl req -new -newkey rsa:2048 -sha256 -days 365 -nodes -x509 -keyout /etc/squid/ssl_cert/squid.pem -out /etc/squid/ssl_cert/squid.pem
sudo chown -R proxy:proxy /etc/squid/ssl_cert
```

ุซู ุฃุถู ุงูุชุงูู ุฅูู ููู ุฅุนุฏุงุฏ Squid:

```
# ุฅุนุฏุงุฏ SSL Bumping
http_port 3128 ssl-bump generate-host-certificates=on dynamic_cert_mem_cache_size=4MB cert=/etc/squid/ssl_cert/squid.pem

# ุชุนุฑูู ูุฑุงุญู SSL Bump
acl step1 at_step SslBump1
acl step2 at_step SslBump2
acl step3 at_step SslBump3

# ุชุทุจูู ููุงุนุฏ SSL Bump
ssl_bump peek step1
ssl_bump bump all
```

## 8. ุชุญุฏูุฏ ุงููุทุงู ุงูุชุฑุฏุฏู (Bandwidth Limitation)

### ููู ูุฆุงุช Delay Pools

Squid ูุฏุนู ุนุฏุฉ ูุฆุงุช ูู Delay Pools:

- **ุงููุฆุฉ 1 (Class 1)**: ุชุญุชูู ุนูู ุฏูู ูุงุญุฏ ููุญุฏ ูุณุชุฎุฏู ูุฌููุน ุงูุทูุจุงุช ูู ุงููุถูููู ุงูุฎุงุถุนูู ูููุฌููุนุฉ
- **ุงููุฆุฉ 2 (Class 2)**: ุชุญุชูู ุนูู ุฏูู ููุญุฏ ู255 ุฏูููุงุ ูุงุญุฏ ููู ูุถูู ุนูู ุดุจูุฉ 8 ุจุช (IPv4 class C)
- **ุงููุฆุฉ 3 (Class 3)**: ุชุญุชูู ุนูู 255 ุฏูููุง ููุดุจูุงุช ุงููุฑุนูุฉ ูู ุดุจูุฉ 16 ุจุชุ ูุฏูุงุก ูุฑุฏูุฉ ููู ูุถูู ุนูู ูุฐู ุงูุดุจูุงุช (IPv4 class B)
- **ุงููุฆุฉ 4 (Class 4)**: ูุซู ุงููุฆุฉ 3 ูููู ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ูุฏููุง ุฏูุงุก ูููุณุชุฎุฏููู ุงููุตุงุฏู ุนููููุ ุฏูู ูุงุญุฏ ููู ูุณุชุฎุฏู
- **ุงููุฆุฉ 5 (Class 5)**: ูุฆุฉ ูุฎุตุตุฉ ุชุนุชูุฏ ุนูู ููู ุงูุนูุงูุงุช ุงูุชู ุชุนูุฏูุง ูุณุงุนุฏุงุช external_acl_type ูู http_access

### ุชูููู Delay Pools ุงูุฃุณุงุณู

ูุชุญุฏูุฏ ุงููุทุงู ุงูุชุฑุฏุฏูุ ุงุณุชุฎุฏู ููุฒุฉ Delay Pools:

```
# ุชูุนูู Delay Pools
delay_pools 1
delay_class 1 2
delay_parameters 1 -1/-1 10000/20000
delay_access 1 allow all
```

ูุฐุง ูุญุฏุฏ ุณุฑุนุฉ ุงูุชูุฒูู ุจู 10000 ุจุงูุช/ุซุงููุฉ ูุณุฑุนุฉ ุงูุฑูุน ุจู 20000 ุจุงูุช/ุซุงููุฉ.

ูุนูู ุงููุนููุงุช:
- **delay_pools 1**: ุชุญุฏูุฏ ุนุฏุฏ ุชุฌูุนุงุช ุงูุชุฃุฎูุฑ (ูู ูุฐู ุงูุญุงูุฉุ ุชุฌูุน ูุงุญุฏ)
- **delay_class 1 2**: ุชุญุฏูุฏ ุงููุฆุฉ 2 ููุชุฌูุน ุฑูู 1
- **delay_parameters 1 -1/-1 10000/20000**: ุชุญุฏูุฏ ูุนููุงุช ุงูุชุฌูุน ุฑูู 1
  - **-1/-1**: ูุง ุญุฏูุฏ ุนูู ุงูุฏูู ุงูุฅุฌูุงูู
  - **10000/20000**: ุญุฏ 10000 ุจุงูุช/ุซุงููุฉ ููุชูุฒูู ู20000 ุจุงูุช/ุซุงููุฉ ููุฑูุน ููู ุนููุงู IP
- **delay_access 1 allow all**: ุงูุณูุงุญ ูุฌููุน ุงููุณุชุฎุฏููู ุจุงููุตูู ุฅูู ุงูุชุฌูุน ุฑูู 1

### ุชุญุฏูุฏ ุงูุณุฑุนุฉ ููู ูุณุชุฎุฏู ุนูู ุญุฏุฉ

ูุชุญุฏูุฏ ุงูุณุฑุนุฉ ููู ูุณุชุฎุฏู ุนูู ุญุฏุฉุ ูุฌุจ ุงุณุชุฎุฏุงู Delay Pools ูู ุงููุฆุฉ 4:

```
# ุชุฃูุฏ ูู ุชูุนูู ุงููุตุงุฏูุฉ ูู Squid
auth_param basic program /usr/lib/squid/basic_ncsa_auth /etc/squid/passwords
auth_param basic realm proxy
acl authenticated_users proxy_auth REQUIRED

# ุชูุนูู Delay Pools
delay_pools 1
delay_class 1 4
delay_access 1 allow authenticated_users
delay_access 1 deny all
delay_parameters 1 32000/64000 16000/32000 8000/16000 4000/8000
```

ูุนูู ุงููุนููุงุช:
- **32000/64000**: ุงูุญุฏ ุงูุฅุฌูุงูู ูููุทุงู ุงูุชุฑุฏุฏู (256 ููููุจุช/ุซุงููุฉ ุฅุฌูุงูู)
- **16000/32000**: ุงูุญุฏ ููู ุดุจูุฉ ูุฑุนูุฉ (128 ููููุจุช/ุซุงููุฉ ููู ุดุจูุฉ ูุฑุนูุฉ)
- **8000/16000**: ุงูุญุฏ ููู ุฌูุงุฒ (64 ููููุจุช/ุซุงููุฉ ููู ุฌูุงุฒ)
- **4000/8000**: ุงูุญุฏ ููู ูุณุชุฎุฏู (32 ููููุจุช/ุซุงููุฉ ููู ูุณุชุฎุฏู ูุตุงุฏู ุนููู)

### ุชุฎุตูุต ุณุฑุนุงุช ูุฎุชููุฉ ููุฌููุนุงุช ูุฎุชููุฉ

ููููู ุชุฎุตูุต ุณุฑุนุงุช ูุฎุชููุฉ ููุฌููุนุงุช ูุฎุชููุฉ ูู ุงููุณุชุฎุฏููู:

```
# ุชุนุฑูู ูุฌููุนุงุช ุงููุณุชุฎุฏููู
acl admin_users proxy_auth "/etc/squid/admin_users.txt"
acl regular_users proxy_auth "/etc/squid/regular_users.txt"

# ุชูููู Delay Pools ูุชุนุฏุฏุฉ
delay_pools 2

# ุชูููู ุงูู Delay Pool ุงูุฃูู ูููุณุชุฎุฏููู ุงูุฅุฏุงุฑููู (ุณุฑุนุฉ ุฃุนูู)
delay_class 1 4
delay_access 1 allow admin_users
delay_access 1 deny all
delay_parameters 1 64000/128000 32000/64000 16000/32000 8000/16000

# ุชูููู ุงูู Delay Pool ุงูุซุงูู ูููุณุชุฎุฏููู ุงูุนุงุฏููู (ุณุฑุนุฉ ุฃูู)
delay_class 2 4
delay_access 2 allow regular_users
delay_access 2 deny all
delay_parameters 2 32000/64000 16000/32000 8000/16000 4000/8000
```

### ุชุญููู ูุญุฏุงุช ุงูุณุฑุนุฉ

ุงูููู ูู `delay_parameters` ูู ุจุงูุจุงูุช/ุซุงููุฉ. ููุชุญููู ูู ููููุจุช/ุซุงููุฉ ุฅูู ุจุงูุช/ุซุงููุฉุ ุงูุณู ุนูู 8:

- 128 ููููุจุช/ุซุงููุฉ = 16000 ุจุงูุช/ุซุงููุฉ
- 256 ููููุจุช/ุซุงููุฉ = 32000 ุจุงูุช/ุซุงููุฉ
- 512 ููููุจุช/ุซุงููุฉ = 64000 ุจุงูุช/ุซุงููุฉ
- 1 ููุฌุงุจุช/ุซุงููุฉ = 128000 ุจุงูุช/ุซุงููุฉ

## 9. ุชุญุฏูุฏ ููุช ุงูุงุณุชุฎุฏุงู (Time Restriction)

### ุงุณุชุฎุฏุงู ACL ูู ููุน "time"

ูุณุชุฎุฏู Squid ุนูุงุตุฑ ACL ูู ููุน "time" ูุชุญุฏูุฏ ููุช ุงูุงุณุชุฎุฏุงู. ุงูุตูุบุฉ ุงูุนุงูุฉ ูู:

```
acl [ุงุณู_ุงููุงุนุฏุฉ] time [ุฃูุงู_ุงูุฃุณุจูุน] [ุงูููุช]
```

ุญูุซ:
- **[ุงุณู_ุงููุงุนุฏุฉ]**: ุงุณู ุชุนุฑููู ูููุงุนุฏุฉ
- **[ุฃูุงู_ุงูุฃุณุจูุน]**: ุฑููุฒ ุฃูุงู ุงูุฃุณุจูุน (S = ุงูุฃุญุฏุ M = ุงูุงุซูููุ T = ุงูุซูุงุซุงุกุ W = ุงูุฃุฑุจุนุงุกุ H = ุงูุฎููุณุ F = ุงูุฌูุนุฉุ A = ุงูุณุจุช)
- **[ุงูููุช]**: ูุทุงู ุงูููุช ุจุตูุบุฉ HH:MM-HH:MM

### ุฃูุซูุฉ ุนูู ุชุญุฏูุฏ ููุช ุงูุงุณุชุฎุฏุงู

#### ูุซุงู 1: ุชูููุฏ ุงููุตูู ุฎูุงู ุณุงุนุงุช ุงูุนูู

```
# ุชุนุฑูู ุณุงุนุงุช ุงูุนูู (ูู ุงูุงุซููู ุฅูู ุงูุฌูุนุฉุ 8 ุตุจุงุญุงู ุฅูู 5 ูุณุงุกู)
acl business_hours time MTWHF 08:00-17:00

# ุงูุณูุงุญ ุจุงููุตูู ุฎูุงู ุณุงุนุงุช ุงูุนูู ููุท
http_access allow localnet business_hours
http_access deny localnet
```

#### ูุซุงู 2: ุชูููุฏ ุงููุตูู ุฎุงุฑุฌ ุณุงุนุงุช ุงูุนูู

```
# ุชุนุฑูู ุณุงุนุงุช ุงูุนูู
acl business_hours time MTWHF 08:00-17:00

# ุชุนุฑูู ุนุทูุฉ ููุงูุฉ ุงูุฃุณุจูุน
acl weekend time SA

# ููุน ุงููุตูู ุฎุงุฑุฌ ุณุงุนุงุช ุงูุนูู ููู ุนุทูุฉ ููุงูุฉ ุงูุฃุณุจูุน
http_access deny localnet !business_hours
http_access deny localnet weekend
http_access allow localnet
```

#### ูุซุงู 3: ุฌุฏูู ุฒููู ูุฎุชูู ููุฌููุนุงุช ูุฎุชููุฉ

```
# ุชุนุฑูู ุงููุฌููุนุงุช
acl admin_users src 192.168.1.0/24
acl regular_users src 192.168.2.0/24

# ุชุนุฑูู ุงูุฃููุงุช
acl morning time MTWHF 08:00-12:00
acl afternoon time MTWHF 13:00-17:00
acl evening time MTWHF 18:00-22:00

# ุงูุณูุงุญ ูููุณุคูููู ุจุงููุตูู ูู ุฌููุน ุงูุฃููุงุช
http_access allow admin_users

# ุงูุณูุงุญ ูููุณุชุฎุฏููู ุงูุนุงุฏููู ุจุงููุตูู ูู ุงูุตุจุงุญ ูุงููุณุงุก ููุท
http_access allow regular_users morning
http_access allow regular_users evening
http_access deny regular_users
```

### ุชุทุจูู ุชุญุฏูุฏ ุงูููุช ูุน ููุฒุงุช ุฃุฎุฑู

ูููู ุฏูุฌ ุชุญุฏูุฏ ุงูููุช ูุน ููุฒุงุช ุฃุฎุฑู ูุซู ุชุญุฏูุฏ ุงููุทุงู ุงูุชุฑุฏุฏู:

```
# ุชุนุฑูู ุงูุฃููุงุช
acl peak_hours time MTWHF 10:00-14:00
acl off_peak_hours time MTWHF 00:00-10:00 MTWHF 14:00-24:00 SA SU 00:00-24:00

# ุชูููู Delay Pools ููุชุญูู ูู ุงููุทุงู ุงูุชุฑุฏุฏู
delay_pools 2

# ุชูููู Delay Pool ููุณุงุนุงุช ุงูุฐุฑูุฉ (ุณุฑุนุฉ ุฃูู)
delay_class 1 2
delay_access 1 allow localnet peak_hours
delay_access 1 deny all
delay_parameters 1 32000/64000 8000/16000

# ุชูููู Delay Pool ูุณุงุนุงุช ุฎุงุฑุฌ ุงูุฐุฑูุฉ (ุณุฑุนุฉ ุฃุนูู)
delay_class 2 2
delay_access 2 allow localnet off_peak_hours
delay_access 2 deny all
delay_parameters 2 64000/128000 16000/32000
```

## 10. ุชูุฒูุน ุงูุญูู (Load Balancing)

### ุฃููุงุน ุชูุฒูุน ุงูุญูู ูู Squid

Squid ูุฏุนู ุนุฏุฉ ุฎูุงุฑุฒููุงุช ูุชูุฒูุน ุงูุญูู:

1. **Source IP Hash**: ุชูุฒูุน ุงูุญูู ุจูุงุกู ุนูู ุนููุงู IP ุงููุตุฏุฑ
2. **Username Hash**: ุชูุฒูุน ุงูุญูู ุจูุงุกู ุนูู ุงุณู ุงููุณุชุฎุฏู
3. **CARP (Cache Array Routing Protocol)**: ุชูุฒูุน ุงูุญูู ุจูุงุกู ุนูู URL
4. **Round Robin**: ุชูุฒูุน ุงูุญูู ุจุงูุชูุงูุจ ุจูู ุงูุฎูุงุฏู
5. **Weighted Round Robin**: ุชูุฒูุน ุงูุญูู ุจุงูุชูุงูุจ ูุน ุฃูุฒุงู ูุฎุชููุฉ
6. **First-Up Parent**: ุงุณุชุฎุฏุงู ุฃูู ุฎุงุฏู ูุชุงุญ

### ุฅุนุฏุงุฏ ุชูุฒูุน ุงูุญูู ุจุงุณุชุฎุฏุงู cache_peer

ูุฅุนุฏุงุฏ ุชูุฒูุน ุงูุญููุ ูุณุชุฎุฏู ุชูุฌูู `cache_peer` ูุชุนุฑูู ุงูุฎูุงุฏู ุงูุฃุฎุฑู:

```
cache_peer [hostname] [type] [http_port] [icp_port] [options]
```

ุญูุซ:
- **[hostname]**: ุงุณู ุงููุถูู ุฃู ุนููุงู IP ููุฎุงุฏู
- **[type]**: ููุน ุงูุฎุงุฏู (parent ุฃู sibling)
- **[http_port]**: ูููุฐ HTTP ููุฎุงุฏู
- **[icp_port]**: ูููุฐ ICP ููุฎุงุฏู (ุงุณุชุฎุฏู 0 ูุชุนุทูู ICP)
- **[options]**: ุฎูุงุฑุงุช ุฅุถุงููุฉ ูุซู ุฎูุงุฑุฒููุฉ ุชูุฒูุน ุงูุญูู

### ุฃูุซูุฉ ุนูู ุชูุฒูุน ุงูุญูู

#### ูุซุงู 1: ุชูุฒูุน ุงูุญูู ุจุงุณุชุฎุฏุงู Round Robin

```
# ุชุนุฑูู ุงูุฎูุงุฏู
cache_peer server1.example.com parent 3128 0 round-robin
cache_peer server2.example.com parent 3128 0 round-robin
cache_peer server3.example.com parent 3128 0 round-robin

# ุชูููู ุงููุตูู
cache_peer_access server1.example.com allow all
cache_peer_access server2.example.com allow all
cache_peer_access server3.example.com allow all
```

#### ูุซุงู 2: ุชูุฒูุน ุงูุญูู ุจุงุณุชุฎุฏุงู Source IP Hash

```
# ุชุนุฑูู ุงูุฎูุงุฏู
cache_peer server1.example.com parent 3128 0 sourcehash
cache_peer server2.example.com parent 3128 0 sourcehash
cache_peer server3.example.com parent 3128 0 sourcehash

# ุชูููู ุงููุตูู
cache_peer_access server1.example.com allow all
cache_peer_access server2.example.com allow all
cache_peer_access server3.example.com allow all
```

#### ูุซุงู 3: ุชูุฒูุน ุงูุญูู ุจุงุณุชุฎุฏุงู Username Hash

```
# ุชุฃูุฏ ูู ุชูุนูู ุงููุตุงุฏูุฉ ูู Squid
auth_param basic program /usr/lib/squid/basic_ncsa_auth /etc/squid/passwords
auth_param basic realm proxy
acl authenticated proxy_auth REQUIRED

# ุชุนุฑูู ุงูุฎูุงุฏู
cache_peer server1.example.com parent 3128 0 userhash
cache_peer server2.example.com parent 3128 0 userhash
cache_peer server3.example.com parent 3128 0 userhash

# ุชูููู ุงููุตูู
cache_peer_access server1.example.com allow authenticated
cache_peer_access server2.example.com allow authenticated
cache_peer_access server3.example.com allow authenticated
```

### ุชูุฒูุน ุงูุญูู ูุน ุชุญูู ุงูุฃุนุทุงู

ูููู ุฅุนุฏุงุฏ Squid ููุชุนุงูู ูุน ูุดู ุงูุฎูุงุฏู ุจุงุณุชุฎุฏุงู ุฎูุงุฑ `default`:

```
# ุชุนุฑูู ุงูุฎูุงุฏู
cache_peer server1.example.com parent 3128 0 round-robin
cache_peer server2.example.com parent 3128 0 round-robin
cache_peer server3.example.com parent 3128 0 default

# ุชูููู ุงููุตูู
cache_peer_access server1.example.com allow all
cache_peer_access server2.example.com allow all
cache_peer_access server3.example.com allow all
```

ูู ูุฐุง ุงููุซุงูุ ุณูุชู ุงุณุชุฎุฏุงู server3.example.com ูุฎุงุฏู ุงุญุชูุงุทู ุฅุฐุง ูุดูุช ุงูุฎูุงุฏู ุงูุฃุฎุฑู.

### ุชูุฒูุน ุงูุญูู ูุน ุชุญุฏูุฏ ุงููุฒู

ูููู ุชุญุฏูุฏ ูุฒู ููู ุฎุงุฏู ูุชูุฒูุน ุงูุญูู ุจุดูู ุบูุฑ ูุชุณุงูู:

```
# ุชุนุฑูู ุงูุฎูุงุฏู
cache_peer server1.example.com parent 3128 0 weight=3
cache_peer server2.example.com parent 3128 0 weight=2
cache_peer server3.example.com parent 3128 0 weight=1

# ุชูููู ุงููุตูู
cache_peer_access server1.example.com allow all
cache_peer_access server2.example.com allow all
cache_peer_access server3.example.com allow all
```

ูู ูุฐุง ุงููุซุงูุ ุณูุชููู server1.example.com ุญูุงูู 50% ูู ุงูุญููุ ูserver2.example.com ุญูุงูู 33%ุ ูserver3.example.com ุญูุงูู 17%.

## 11. ุฅุนุฏุงุฏ Squid ูุจุฑููุณู ุนูุณู (Reverse Proxy)

### ุชูููู ุงูุจุฑููุณู ุงูุนูุณู ุงูุฃุณุงุณู

ูุฅุนุฏุงุฏ Squid ูุจุฑููุณู ุนูุณูุ ุฃุถู ุงูุชุงูู ุฅูู ููู ุงูุชูููู:

```
# ุฅุนุฏุงุฏ ุงูุจุฑููุณู ุงูุนูุณู
http_port 80 accel vhost
cache_peer backend.example.com parent 80 0 no-query originserver name=myAccel

# ุชุนุฑูู ุงููุฌุงูุงุช
acl sites dstdomain example.com
http_access allow sites
cache_peer_access myAccel allow sites
```

### ุชูููู ุงูุจุฑููุณู ุงูุนูุณู ุงููุชูุฏู

ูุฅุนุฏุงุฏ ุจุฑููุณู ุนูุณู ูุชูุฏู ูุน ุชูุฒูุน ุงูุญูู:

```
# ุฅุนุฏุงุฏ ุงูุจุฑููุณู ุงูุนูุณู ูุน ุชูุฒูุน ุงูุญูู
http_port 80 accel vhost
cache_peer backend1.example.com parent 80 0 no-query originserver round-robin name=backend1
cache_peer backend2.example.com parent 80 0 no-query originserver round-robin name=backend2

# ุชุนุฑูู ุงููุฌุงูุงุช
acl site1 dstdomain site1.example.com
acl site2 dstdomain site2.example.com

# ุชูููู ุงููุตูู
http_access allow site1
http_access allow site2
cache_peer_access backend1 allow site1
cache_peer_access backend2 allow site2
```

## 12. ุชูููู ูุชุตูุญุงุช ุงูููุจ ูุงุณุชุฎุฏุงู Squid

### Firefox

1. ุงูุชุญ Firefox
2. ุงูุชูู ุฅูู ุงูุฅุนุฏุงุฏุงุช (Preferences)
3. ุงูุชูู ุฅูู ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ (Network Settings)
4. ุงุฎุชุฑ "ุฅุนุฏุงุฏ ูุฏูู ููุจุฑููุณู" (Manual Proxy Configuration)
5. ุฃุฏุฎู ุนููุงู IP ุงูุฎุงุต ุจุฎุงุฏู Squid ูุงููููุฐ (3128 ุงูุชุฑุงุถูุงู)

### Chrome

1. ุงูุชุญ Chrome
2. ุงูุชูู ุฅูู ุงูุฅุนุฏุงุฏุงุช (Settings)
3. ุงูุชูู ุฅูู ุฅุนุฏุงุฏุงุช ุงููุธุงู (System)
4. ุงููุฑ ุนูู "ูุชุญ ุฅุนุฏุงุฏุงุช ุงูุจุฑููุณู ุงูุฎุงุตุฉ ุจุงูููุจููุชุฑ" (Open your computer's proxy settings)
5. ูู ุจุชูููู ุฅุนุฏุงุฏุงุช ุงูุจุฑููุณู ุงููุฏููุฉ

### ูุชุตูุญุงุช ุฃุฎุฑู

ูุนุธู ุงููุชุตูุญุงุช ุงูุฃุฎุฑู ุชุชุจุน ููุทูุง ูุดุงุจููุง:
1. ุงูุชุญ ุฅุนุฏุงุฏุงุช ุงููุชุตูุญ
2. ุงุจุญุซ ุนู ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ ุฃู ุงูุจุฑููุณู
3. ุงุฎุชุฑ ุงูุฅุนุฏุงุฏ ุงููุฏูู ููุจุฑููุณู
4. ุฃุฏุฎู ุนููุงู IP ุงูุฎุงุต ุจุฎุงุฏู Squid ูุงููููุฐ

## 13. ุฅุฏุงุฑุฉ ููุฑุงูุจุฉ Squid

### ูุฑุงูุจุฉ ุณุฌูุงุช Squid

ููููู ูุฑุงูุจุฉ ุณุฌูุงุช Squid ูู ุงูููุช ุงููุนูู ุจุงุณุชุฎุฏุงู:

```bash
sudo tail -f /var/log/squid/access.log
```

ูุนุฑุถ ุณุฌูุงุช ุงูุฃุฎุทุงุก:

```bash
sudo tail -f /var/log/squid/cache.log
```

### ุชุญููู ุณุฌูุงุช Squid

ููููู ุชูุตูุจ ุฃุฏูุงุช ูุชุญููู ุณุฌูุงุช Squid:

```bash
sudo apt install sarg -y
```

ูู ุจุชูููู SARG:

```bash
sudo nano /etc/sarg/sarg.conf
```

ุซู ูู ุจุฅูุดุงุก ุชูุฑูุฑ:

```bash
sudo sarg -x
```

### ุชูุธูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช

ูุชูุธูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช:

```bash
sudo squid -k shutdown
sudo rm -rf /var/spool/squid/*
sudo squid -z
sudo systemctl start squid
```

### ุงุฎุชุจุงุฑ ุชูููู Squid

ููุชุญูู ูู ุตุญุฉ ููู ุงูุชูููู:

```bash
sudo squid -k parse
```

### ุฅุนุงุฏุฉ ุชุญููู ุงูุชูููู ุฏูู ุฅุนุงุฏุฉ ุงูุชุดุบูู

```bash
sudo squid -k reconfigure
```

### ูุฑุงูุจุฉ ุญุงูุฉ ุงูุฎูุงุฏู

ูููู ูุฑุงูุจุฉ ุญุงูุฉ ุงูุฎูุงุฏู ุจุงุณุชุฎุฏุงู:

```bash
squidclient mgr:peer_select
```

## 14. ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง

### ูุดุงูู ุงูุงุชุตุงู

ุฅุฐุง ูุงุฌูุช ูุดุงูู ูู ุงูุงุชุตุงูุ ุชุญูู ูู:

1. ุญุงูุฉ ุฎุฏูุฉ Squid:
   ```bash
   sudo systemctl status squid
   ```

2. ููุงุนุฏ ุฌุฏุงุฑ ุงูุญูุงูุฉ:
   ```bash
   sudo ufw status
   ```

3. ุณุฌูุงุช ุงูุฃุฎุทุงุก:
   ```bash
   sudo tail -f /var/log/squid/cache.log
   ```

### ูุดุงูู ุงููุตุงุฏูุฉ

ุฅุฐุง ูุงุฌูุช ูุดุงูู ูู ุงููุตุงุฏูุฉ:

1. ุชุญูู ูู ุตูุงุญูุงุช ููู ูููุงุช ุงููุฑูุฑ:
   ```bash
   sudo chmod 644 /etc/squid/passwords
   sudo chown proxy:proxy /etc/squid/passwords
   ```

2. ุชุญูู ูู ุชูููู ุงููุตุงุฏูุฉ ูู ููู squid.conf

3. ุชุญูู ูู ุณุฌูุงุช ุงููุตุงุฏูุฉ:
   ```bash
   sudo tail -f /var/log/squid/access.log | grep AUTHENTICATE
   ```

### ูุดุงูู ุงูุฃุฏุงุก

ูุชุญุณูู ุฃุฏุงุก Squid:

1. ุฒูุงุฏุฉ ุญุฌู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช:
   ```
   cache_mem 512 MB
   ```

2. ุชุญุณูู ุนุฏุฏ ุงูุนูููุงุช ุงููุฑุนูุฉ:
   ```
   workers 4
   ```

3. ุชุญุณูู ุฅุนุฏุงุฏุงุช ุงูุชุฎุฒูู ุงููุคูุช:
   ```
   maximum_object_size 16 MB
   cache_replacement_policy heap LFUDA
   memory_replacement_policy heap GDSF
   ```

### ูุดุงูู ุชุญุฏูุฏ ููุช ุงูุงุณุชุฎุฏุงู

1. **ุนุฏู ุชุทุจูู ูููุฏ ุงูููุช**: ุชุฃูุฏ ูู ุฃู ุงูููุช ุนูู ุงูุฎุงุฏู ูุฒุงูู ุจุงุณุชุฎุฏุงู NTP
   ```bash
   sudo apt install ntp
   sudo systemctl start ntp
   sudo systemctl enable ntp
   ```

2. **ูุดุงูู ูู ุชูุณูู ุงูููุช**: ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู ุงูุชูุณูู ุงูุตุญูุญ (HH:MM-HH:MM)

### ูุดุงูู ุชูุฒูุน ุงูุญูู

1. **ุนุฏู ุชูุฒูุน ุงูุญูู ุจุดูู ุตุญูุญ**: ุชุญูู ูู ุฅุนุฏุงุฏุงุช cache_peer ูุชุฃูุฏ ูู ุฃู ุงูุฎูุงุฏู ูุชุงุญุฉ
   ```bash
   ping server1.example.com
   telnet server1.example.com 3128
   ```

2. **ูุดู ุงูุงุชุตุงู ุจุงูุฎูุงุฏู**: ุชุฃูุฏ ูู ุฃู ุฌุฏุงุฑ ุงูุญูุงูุฉ ูุณูุญ ุจุงูุงุชุตุงู ุจูู Squid ูุงูุฎูุงุฏู ุงูุฃุฎุฑู
   ```bash
   sudo iptables -L
   ```

## 15. ุงููุตุทูุญุงุช ุงูุชูููุฉ ูู ุจุฑูุงูุฌ Squid

### ุงููุตุทูุญุงุช ุงูุฃุณุงุณูุฉ

- **Proxy (ุจุฑููุณู)**: ุฎุงุฏู ูุณูุท ูุนูู ููุณูุท ุจูู ุงูุนููุงุก ูุงูุฎูุงุฏู ุนูู ุงูุดุจูุฉ.
- **Caching (ุงูุชุฎุฒูู ุงููุคูุช)**: ุนูููุฉ ุชุฎุฒูู ูุณุฎ ูู ูุญุชูู ุงูููุจ ุงููุทููุจ ุจุดูู ูุชูุฑุฑ ูุชูููู ููุช ุงูุงุณุชุฌุงุจุฉ ูุงุณุชุฎุฏุงู ุงููุทุงู ุงูุชุฑุฏุฏู.
- **Forwarding (ุงูุชูุฌูู)**: ุฅุนุงุฏุฉ ุชูุฌูู ุทูุจุงุช ุงูุนููุงุก ุฅูู ุฎูุงุฏู ุงูููุจ ููุงุจุฉ ุนููู.
- **Access Control (ุงูุชุญูู ูู ุงููุตูู)**: ุขููุงุช ุชุญุฏูุฏ ูู ููููู ุงููุตูู ุฅูู ููุงุฑุฏ ูุนููุฉ ูุชุญุช ุฃู ุธุฑูู.
- **Authentication (ุงููุตุงุฏูุฉ)**: ุนูููุฉ ุงูุชุญูู ูู ูููุฉ ุงููุณุชุฎุฏู ูุจู ููุญ ุงููุตูู.

### ุจุฑูุชููููุงุช ุงูุดุจูุฉ

- **HTTP (Hyper Text Transfer Protocol)**: ุจุฑูุชูููู ููู ุงููุต ุงูุชุดุนุจูุ ุงููุณุชุฎุฏู ูููู ุตูุญุงุช ุงูููุจ.
- **HTTPS (HTTP Secure)**: ูุณุฎุฉ ุขููุฉ ูู HTTP ุชุณุชุฎุฏู ุงูุชุดููุฑ.
- **FTP (File Transfer Protocol)**: ุจุฑูุชูููู ููู ุงููููุงุชุ ูุณุชุฎุฏู ูููู ุงููููุงุช ุจูู ุงูุฃุฌูุฒุฉ.
- **SSL/TLS (Secure Sockets Layer/Transport Layer Security)**: ุจุฑูุชููููุงุช ุชุดููุฑ ุชุณุชุฎุฏู ูุชุฃููู ุงูุงุชุตุงูุงุช ุนุจุฑ ุงูุดุจูุฉ.
- **DNS (Domain Name System)**: ูุธุงู ุฃุณูุงุก ุงููุทุงูุงุชุ ูุชุฑุฌู ุฃุณูุงุก ุงููุทุงูุงุช ุฅูู ุนูุงููู IP.

### ุจุฑูุชููููุงุช ุงูุชุฎุฒูู ุงููุคูุช

- **ICP (Internet Cache Protocol)**: ุจุฑูุชูููู ุงูุชุฎุฒูู ุงููุคูุช ููุฅูุชุฑูุชุ ูุณุชุฎุฏู ููุชูุงุตู ุจูู ุฎูุงุฏู ุงูุชุฎุฒูู ุงููุคูุช.
- **HTCP (Hyper Text Caching Protocol)**: ุจุฑูุชูููู ุชุฎุฒูู ุงููุต ุงูุชุดุนุจู ุงููุคูุชุ ูููุฑ ุขููุฉ ุฃูุซุฑ ุชูุตููุงู ูู ICP.
- **CARP (Cache Array Routing Protocol)**: ุจุฑูุชูููู ุชูุฌูู ูุตูููุฉ ุงูุชุฎุฒูู ุงููุคูุชุ ูุณุชุฎุฏู ูุชูุฒูุน ุงูุทูุจุงุช ุจูู ูุฌููุนุฉ ูู ุฎูุงุฏู ุงูุชุฎุฒูู ุงููุคูุช.
- **WCCP (Web Cache Coordination Protocol)**: ุจุฑูุชูููู ุชูุณูู ุงูุชุฎุฒูู ุงููุคูุช ููููุจุ ุทูุฑู Cisco ูุชูุฌูู ุญุฑูุฉ ุงููุฑูุฑ ุฅูู ุฎูุงุฏู ุงูุชุฎุฒูู ุงููุคูุช.

### ููููุงุช ูููุฒุงุช Squid

- **Cache Manager (ูุฏูุฑ ุงูุชุฎุฒูู ุงููุคูุช)**: ูุงุฌูุฉ ุฅุฏุงุฑูุฉ ููุชุญูู ูู ุฎุงุฏู Squid.
- **ACL (Access Control List)**: ูุงุฆูุฉ ุงูุชุญูู ุจุงููุตููุ ุชุณุชุฎุฏู ูุชุญุฏูุฏ ููุงุนุฏ ุงููุตูู.
- **Delay Pools (ุชุฌูุนุงุช ุงูุชุฃุฎูุฑ)**: ุขููุฉ ููุชุญูู ูู ุงุณุชุฎุฏุงู ุงููุทุงู ุงูุชุฑุฏุฏู.
- **SNMP (Simple Network Management Protocol)**: ุจุฑูุชูููู ุฅุฏุงุฑุฉ ุงูุดุจูุฉ ุงูุจุณูุทุ ูุณุชุฎุฏู ููุฑุงูุจุฉ ุฃุฏุงุก ุงูุฎุงุฏู.
- **Reverse Proxy (ุงูุจุฑููุณู ุงูุนูุณู)**: ุชูููู ูุนูู ููู Squid ููุงุฌูุฉ ูุฎูุงุฏู ุงูููุจ ุงูุฎูููุฉ.

### ุชูููุงุช ุงูุชุญุณูู

- **Content Filtering (ุชุตููุฉ ุงููุญุชูู)**: ุชูููุฉ ููุญุต ูุชุตููุฉ ุงููุญุชูู ุงููุทููุจ ุจูุงุกู ุนูู ููุงุนุฏ ูุญุฏุฏุฉ.
- **Traffic Optimization (ุชุญุณูู ุญุฑูุฉ ุงููุฑูุฑ)**: ุชูููุงุช ูุชุญุณูู ุงุณุชุฎุฏุงู ุงููุทุงู ุงูุชุฑุฏุฏู ูุชูููู ุฒูู ุงูุงุณุชุฌุงุจุฉ.
- **Load Balancing (ุชูุฒูุน ุงูุญูู)**: ุชูุฒูุน ุงูุทูุจุงุช ุจูู ุนุฏุฉ ุฎูุงุฏู ูุชุญุณูู ุงูุฃุฏุงุก ูุงูุชูุงูุฑ.
- **Transparent Caching (ุงูุชุฎุฒูู ุงููุคูุช ุงูุดูุงู)**: ุชูููุฉ ุชุณูุญ ุจุชูุฌูู ุญุฑูุฉ ุงููุฑูุฑ ุฅูู ุฎุงุฏู ุงูุชุฎุฒูู ุงููุคูุช ุฏูู ุชูููู ุงูุนููู.
- **Server Acceleration (ุชุณุฑูุน ุงูุฎุงุฏู)**: ุงุณุชุฎุฏุงู Squid ูุชุญุณูู ุฃุฏุงุก ุฎูุงุฏู ุงูููุจ.

### ูุตุทูุญุงุช ุชูููุฉ ุฅุถุงููุฉ

- **Cache Hit (ุฅุตุงุจุฉ ุงูุชุฎุฒูู ุงููุคูุช)**: ุนูุฏูุง ูุชู ุงูุนุซูุฑ ุนูู ุงููุญุชูู ุงููุทููุจ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช.
- **Cache Miss (ููุฏุงู ุงูุชุฎุฒูู ุงููุคูุช)**: ุนูุฏูุง ูุง ูุชู ุงูุนุซูุฑ ุนูู ุงููุญุชูู ุงููุทููุจ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช.
- **Cache Hierarchy (ุชุณูุณู ุงูุชุฎุฒูู ุงููุคูุช)**: ุชุฑุชูุจ ูุฑูู ูุฎูุงุฏู ุงูุชุฎุฒูู ุงููุคูุช ููุชุนุงูู ูู ุชุฎุฒูู ุงููุญุชูู.
- **Refresh Pattern (ููุท ุงูุชุญุฏูุซ)**: ููุงุนุฏ ุชุญุฏุฏ ูุชู ูุฌุจ ุชุญุฏูุซ ุงููุญุชูู ุงููุฎุฒู ูุคูุชูุง.
- **Store ID (ูุนุฑู ุงูุชุฎุฒูู)**: ุขููุฉ ูุชุนุฏูู ููููุฉ ุชุฎุฒูู ูุชุญุฏูุฏ ุงููุญุชูู ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช.

## 16. ุงุณุชุฎุฏุงูุงุช Squid ูู ุจูุฆุงุช ูุฎุชููุฉ

### ูุฒูุฏู ุฎุฏูุฉ ุงูุฅูุชุฑูุช (ISPs)

ูุณุชุฎุฏู ูุฒูุฏู ุฎุฏูุฉ ุงูุฅูุชุฑูุช Squid ูุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ูุชูููู ุชูุงููู ุงููุทุงู ุงูุชุฑุฏุฏู ูู ุฎูุงู:
- ุชุฎุฒูู ุงููุญุชูู ุงูุดุงุฆุน ูุคูุชูุง ูุชูููู ุงููุตูู ุงููุชูุฑุฑ ุฅูู ููุณ ุงููุญุชูู
- ุชุญุณูู ุฃููุงุช ุงูุงุณุชุฌุงุจุฉ ูููุณุชุฎุฏููู
- ุชูููู ุงุณุชุฎุฏุงู ุงููุทุงู ุงูุชุฑุฏุฏู ุงูุฏููู ุงููููู

### ุงููุคุณุณุงุช ุงูุชุนููููุฉ

ุชุณุชููุฏ ุงููุฏุงุฑุณ ูุงูุฌุงูุนุงุช ูู Squid ูู ุฎูุงู:
- ุชูููุฏ ุงููุตูู ุฅูู ููุงูุน ุบูุฑ ููุงุณุจุฉ
- ุชูููุฑ ุงููุทุงู ุงูุชุฑุฏุฏู ุนู ุทุฑูู ุชุฎุฒูู ุงูุชูุฒููุงุช ุงููุจูุฑุฉ ูุงููุญุชูู ุงููุดุชุฑู ูุคูุชูุง
- ูุฑุงูุจุฉ ูุชุณุฌูู ุงุณุชุฎุฏุงู ุงูุฅูุชุฑูุช ููุงูุชุซุงู ููุณูุงุณุงุช
- ุชุญุฏูุฏ ููุช ุงูุงุณุชุฎุฏุงู ููุทูุงุจ ุฎูุงู ุณุงุนุงุช ูุนููุฉ

### ุงูุดุฑูุงุช ูุงููุคุณุณุงุช

ุชุณุชุฎุฏู ุงูุดุฑูุงุช Squid ูู:
- ุชุนุฒูุฒ ุฃูุงู ุงูุดุจูุฉ ูู ุฎูุงู ุงูุนูู ูุญุงุฌุฒ ุจูู ุงูุดุจูุฉ ุงูุฏุงุฎููุฉ ูุงูุฅูุชุฑูุช
- ูุฑุถ ุณูุงุณุงุช ุงุณุชุฎุฏุงู ุงูุฅูุชุฑูุช
- ุชุญุณูู ุฃุฏุงุก ุงูุดุจูุฉ
- ุชูููู ุงุณุชููุงู ุงููุทุงู ุงูุชุฑุฏุฏู
- ุชุญุฏูุฏ ุณุฑุนุงุช ูุฎุชููุฉ ููุฌููุนุงุช ูุฎุชููุฉ ูู ุงููุณุชุฎุฏููู

### ููุงูุน ุงูููุจ ุนุงููุฉ ุงูุญุฑูุฉ

ุชุณุชุฎุฏู ููุงูุน ุงูููุจ ุฐุงุช ุงูุญุฑูุฉ ุงูุนุงููุฉ Squid ูู:
- ูุณุฑุน ููุฎุงุฏู ูุชูููู ุงูุญูู ุนูู ุฎูุงุฏู ุงูููุจ ุงูุฃุณุงุณูุฉ
- ููุฒุน ููุญูู ูุชูุฒูุน ุงูุทูุจุงุช ุจูู ุนุฏุฉ ุฎูุงุฏู
- ุญู ููุชุฎุฒูู ุงููุคูุช ูุชุญุณูู ุฃููุงุช ุงูุงุณุชุฌุงุจุฉ ูููุณุชุฎุฏููู
- ุจุฑููุณู ุนูุณู ูุญูุงูุฉ ุงูุฎูุงุฏู ุงูุฎูููุฉ

## 17. ูุฒุงูุง ุงุณุชุฎุฏุงู Squid

### ุชุญุณูู ุงูุฃุฏุงุก
- ุชูููู ููุช ุงูุงุณุชุฌุงุจุฉ ูููุณุชุฎุฏููู
- ุชูููู ุงูุญูู ุนูู ุฎูุงุฏู ุงูููุจ
- ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุจุดูู ุนุงู
- ุชุณุฑูุน ุงููุตูู ุฅูู ุงููุญุชูู ุงููุชูุฑุฑ

### ุชูููุฑ ุงููุทุงู ุงูุชุฑุฏุฏู
- ุชูููู ุญุฑูุฉ ุงููุฑูุฑ ุงููุชูุฑุฑุฉ
- ุชูููู ุชูุงููู ุงููุทุงู ุงูุชุฑุฏุฏู
- ุงุณุชุฎุฏุงู ุฃูุซุฑ ููุงุกุฉ ูููุงุฑุฏ ุงูุดุจูุฉ
- ุชุญุฏูุฏ ุงููุทุงู ุงูุชุฑุฏุฏู ููุณุชุฎุฏููู ุฃู ูุฌููุนุงุช ูุญุฏุฏุฉ

### ุชุนุฒูุฒ ุงูุฃูุงู
- ููุชุฑุฉ ุงููุญุชูู ุงูุถุงุฑ
- ุงูุชุญูู ูู ุงููุตูู ุฅูู ููุงูุน ูุนููุฉ
- ุญูุงูุฉ ุงูุดุจูุฉ ุงูุฏุงุฎููุฉ ูู ุงูุชูุฏูุฏุงุช ุงูุฎุงุฑุฌูุฉ
- ุชุณุฌูู ูุชุชุจุน ุฃูุดุทุฉ ุงููุณุชุฎุฏููู

### ุงููุฑููุฉ ูุงููุงุจููุฉ ููุชุฎุตูุต
- ุฎูุงุฑุงุช ุชูููู ูุงุณุนุฉ
- ุฏุนู ููุฌููุนุฉ ูุชููุนุฉ ูู ุงูุจุฑูุชููููุงุช
- ุงููุฏุฑุฉ ุนูู ุงูุชูุงูู ูุน ุฃูุธูุฉ ูุฃุฏูุงุช ุฃุฎุฑู
- ุฅููุงููุฉ ุชุฎุตูุต ุงูุณููู ุญุณุจ ุงุญุชูุงุฌุงุช ุงููุคุณุณุฉ

## 18. ุงูุฎูุงุตุฉ

ูุนุฏ Squid ุฃุฏุงุฉ ูููุฉ ููุฑูุฉ ููุชุฎุฒูู ุงููุคูุช ูุฅุฏุงุฑุฉ ุงูููููุ ููุง ูููุฑ ูุฌููุนุฉ ูุงุณุนุฉ ูู ุงูููุฒุงุช ูุงููุธุงุฆู ุงูุชู ูููู ุฃู ุชููุฏ ูุฎุชูู ุฃููุงุน ุงููุคุณุณุงุช ูุงูุดุจูุงุช. ูู ุฎูุงู ุชุญุณูู ุงุณุชุฎุฏุงู ุงููุทุงู ุงูุชุฑุฏุฏูุ ูุชุญุณูู ุฃููุงุช ุงูุงุณุชุฌุงุจุฉุ ูุชูููุฑ ุขููุงุช ุงูุชุญูู ูู ุงููุตููุ ูููู ูู Squid ุฃู ูุณุงุนุฏ ูู ุชุญุณูู ุฃุฏุงุก ุงูุดุจูุฉ ูุชุนุฒูุฒ ุงูุฃูุงู ูุชูููู ุงูุชูุงููู.

ูู ูุฐุง ุงูุฏููู ุงูุดุงููุ ุชุนุฑููุง ุนูู Squid ูู ุงูุฃูู ุฅูู ุงููุงุกุ ุจุฏุกูุง ูู ุงูููุงููู ุงูุฃุณุงุณูุฉ ูุญุชู ุงูุฅุนุฏุงุฏุงุช ุงููุชูุฏูุฉ. ุชุนูููุง ููููุฉ ุชูุตูุจ Squid ุนูู ูุธุงู Debianุ ูุฅุนุฏุงุฏู ุจุดูู ุฃุณุงุณูุ ูุชูุนูู ููุฒุงุช ูุชูุฏูุฉ ูุซู ุงููุตุงุฏูุฉุ ูุงูุชุฎุฒูู ุงููุคูุชุ ูุชุญุฏูุฏ ุงููุทุงู ุงูุชุฑุฏุฏูุ ูุชุญุฏูุฏ ููุช ุงูุงุณุชุฎุฏุงูุ ูุชูุฒูุน ุงูุญูู.

ููุง ุชุนุฑููุง ุนูู ููููุฉ ุฅุฏุงุฑุฉ ููุฑุงูุจุฉ Squidุ ูุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุงุ ูุงููุตุทูุญุงุช ุงูุชูููุฉ ุงููุณุชุฎุฏูุฉ ูู Squidุ ูุงุณุชุฎุฏุงูุงุช Squid ูู ุจูุฆุงุช ูุฎุชููุฉุ ููุฒุงูุง ุงุณุชุฎุฏุงูู.

ุณูุงุก ููุช ุชุฏูุฑ ุดุจูุฉ ูุคุณุณุฉ ุตุบูุฑุฉ ุฃู ูููุน ููุจ ุนุงูู ุงูุญุฑูุฉ ุฃู ูุฒูุฏ ุฎุฏูุฉ ุฅูุชุฑูุชุ ูุฅู Squid ูููุฑ ุงูุฃุฏูุงุช ุงููุงุฒูุฉ ูุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ูุชุจุณูุท ุฅุฏุงุฑุฉ ุงูุดุจูุฉ. ูุน ุงูุชูููู ุงูููุงุณุจ ูุงูุฅุฏุงุฑุฉ ุงููุนุงูุฉุ ูููู ุฃู ูููู Squid ุฅุถุงูุฉ ูููุฉ ูุฃู ุจููุฉ ุชุญุชูุฉ ููุดุจูุฉ.
